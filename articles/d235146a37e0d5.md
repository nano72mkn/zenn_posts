---
title: "プルリクエストのテンプレートを改善したら、レビュー効率が上がった話"
emoji: "⭐️"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["github", "pullrequest"]
published: true
publication_name: "stafes_blog"
---

この記事は[スターフェスティバル Advent Calendar 2021](https://qiita.com/advent-calendar/2021/stafes)の 24 日目です。

---

スターフェスティバル株式会社 エンジニアの[@shota1995m](https://stafes.notion.site/stafes/d0996a00d77d418280982797c7e16001?p=8b0ee9b8d8c34418a243cc9a586702d1) です！
今回は、個人ではなく、チームで改善した話をしたいと思います。

- [Yoshifuji](https://twitter.com/zerosant)
- [ikkitang](https://twitter.com/ikkitang)

# 使用ツール

- [GitHub](https://github.co.jp/)
  - ソースコードの管理
- [Jira](https://www.atlassian.com/ja/software/jira)
  - チケットの管理
- [Confluence](https://www.atlassian.com/ja/software/confluence)
  - ドキュメント / 仕様の管理

Jira と GitHub は連携しており、
Jira のチケットから`プルリクの公開状況`や`GitHub Actionsの実行結果`が分かるようになっています。

![JiraとGitHubが連携されている様子](/images/d235146a37e0d5/github-for-jira.png)

# 浮き出た問題点

10 月にチームの体制が変わり、
複数のプロジェクトにまたがって開発をすることになったことでレビューに時間を取られるという問題点が出てきました。

そこで、レビューになぜ時間がかかっているか話し合い、細分化した結果

- プルリクの数が多い
- プロジェクトを行き来するので、コンテキストスイッチの切り替えが必要
- チケットを確認しなければ何をしているのかを把握しずらい
- プルリクの内容がバラバラ

の 4 つが影響しているのでは？という結論になりました。

プルリク自体の数を減らすことはできないので、
レビュー速度改善の為にプルリクのテンプレートの改良をしてみることにしました。

# 改良してみた

まず、必要そうな項目を出してみました。

- チケットの URL
- なぜ
- フロントエンドの場合は 画像 or 動画 が欲しい
- Refs ( optional )

**なぜ**についてはチームで書く基準がわからないという話に。
**やった事**に対して、**なぜやるのか**という意味づけをする事で書きやすい項目名に変更。

**フロントエンドの場合は 画像 or 動画 が欲しい**という項目は、**動作確認**というグループにまとめて、バックエンドのプルリクでも使いやすい形にしました。

## 出来上がったテンプレートがこちら

```markdown
# Jira Ticket

- [URL]

# やった事

- このプルリクエストにて何をしたのか？

## なぜやるのか

- Jira で説明できない捕捉的な事項 (Jira の説明で十分であればここは不要)
- なぜこのプルリクエストが必要と考えたかについて説明があるとレビュワーがわかりやすい

# 動作確認

- どの環境でどんな動作チェックをしたか
- 動作確認をした事についてスクショなどがあるとわかりやすくて良い

# Refs (レビューにあたって参考にすべき情報）(Optional)

- 関連するプルリクエストやイシュー、コンフルリンクなど、レビュワーがレビューするにあたっての補足情報
```

# 実際に運用してみて

## 書く時に感じたこと

- テンプレートに沿って記入するだけなので、考えることが少なくなりささっと書けるようになりました。
- 大抵、このようなテンプレートにある**なぜ（または Why）**が書きにくいと思うんです。
  なぜって...チケットにやれって書いてあるから...みたいな
  **やった事**に紐づけて、**なぜやるのか**にしたことで書くことが明確になり、ここで悩むことがなくなりました。

## レビューしてみて感じたこと

- **やった事**を簡潔に箇条書きにしてくれているので、変更ポイントを理解しやすい
- **なぜやるのか**で**やった事**、**チケットの内容**の補足をしてくれているので、作業者が何を考えているのか見えるようになった
- 捕捉されていることで、相談事がある時に受ける側とコンテキストの共有がされるので、相談がスムーズに進んでいる

# まとめ

メリットが多く、まだデメリットを感じていない状態です。
チームが変わったり、環境が変われば使いにくくなるかもしれませんが、
いまのところは、僕たちが考えた最強のテンプレートになっていると思います。

プルリクテンプレートひとつでチーム生産性を上げられるので、ぜひお試しください！
