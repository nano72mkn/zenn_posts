---
title: "ExpoでiOS版Hermesつかってみる"
emoji: "🗂"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["reactnative", "Expo", "Hermes"]
published: false
---

:::message
この記事は、[スターフェスティバル Advent Calendar 2021](https://qiita.com/advent-calendar/2021/stafes)の4日目です。
:::

<!-- 昨日の記事についてひとこと -->

<!-- あいさつ -->
## 挨拶

ExpoのHighlightsにHermesが使えるようになったとあったので使ってみたいと思います！

## そもそも、Hermesってなーに?

> ReactNative用に最適化されたオープンソースのJavaScriptエンジンです。
> Hermesを有効にすると、起動時間が改善され、メモリ使用量が減少し、アプリのサイズが小さくなります。
[Using Hermes](https://reactnative.dev/docs/hermes)より

アプリサイズが軽くなって起動が早くなると...
なるほどなるほど。

<!-- 実演 -->
## 実際に使ってみる！

めんどくさいことはいつも[Expo](https://expo.dev/)に任せておけばok  
**Hermes**も[Expo SDK 42](https://blog.expo.io/expo-sdk-42-579aee2348b6)でAndroid、[Expo SDK 43](https://blog.expo.dev/expo-sdk-43-aa9b3c7d5541)でiosも使用できるようになりました！🎉


### expo init
```bash
$ expo init example-hermes
```

### SDK確認
iOSで**Hermes**が使えるのがSDK43からなので、一応確認

```json:package.json
{
  ...
  "expo": "~43.0.2",
  ...
}
```
問題なさそう

### セットアップをする
公式の手順に沿ってセットアップしていく
[Using Hermes Engine - iOS setup](https://docs.expo.dev/guides/using-hermes/#ios-setup)

```json:app.json
{
  "expo": {
    ...
    "jsEngine": "hermes",
    ...
  }
}
```

### ビルドをする
eas buildがフリーアカウントでも使えるようになったの本当に嬉しいですね！

設定ファイルを生成...

```bash
$ npx eas build:configure
```

今回は

```bash
$ npx eas build --platform ios
```





<!-- まとめ -->
## さいごに

<!-- スタフェスの勧誘 -->

<!-- リンク -->
## 参考リンク集

- https://hermesengine.dev/
- https://reactnative.dev/docs/hermes
- [Using Hermes Engine](https://docs.expo.dev/guides/using-hermes/)
